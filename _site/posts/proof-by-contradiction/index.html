<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Irrational Numbers Proof Techniques – Benjamin Basseri</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Benjamin Basseri</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#proof-that-sqrt2-is-irrational" id="toc-proof-that-sqrt2-is-irrational" class="nav-link active" data-scroll-target="#proof-that-sqrt2-is-irrational">Proof that <span class="math inline">\(\sqrt{2}\)</span> is irrational</a></li>
  <li><a href="#does-this-technique-generalize" id="toc-does-this-technique-generalize" class="nav-link" data-scroll-target="#does-this-technique-generalize">Does this technique generalize?</a></li>
  <li><a href="#repeating-this-proof-for-sqrt6" id="toc-repeating-this-proof-for-sqrt6" class="nav-link" data-scroll-target="#repeating-this-proof-for-sqrt6">Repeating this proof for <span class="math inline">\(\sqrt{6}\)</span></a></li>
  <li><a href="#proving-that-e-is-irrational" id="toc-proving-that-e-is-irrational" class="nav-link" data-scroll-target="#proving-that-e-is-irrational">Proving that <span class="math inline">\(e\)</span> is irrational</a></li>
  <li><a href="#proving-that-pi-is-irrational" id="toc-proving-that-pi-is-irrational" class="nav-link" data-scroll-target="#proving-that-pi-is-irrational">Proving that <span class="math inline">\(\pi\)</span> is irrational</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Irrational Numbers Proof Techniques</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Explain what it is</p>
<p>Usually we do sqrt 2 and call it a day However this proof as it’s usually presented usually skips a lot of details making it hard to generalize the principle. It finds a contradiction in parity between a and b Example: what happens if you try to prove root 3 is irrational? what happens when you try to prove root 6 is irrational?</p>
<p>Prove e is irrational by contradiction Prove π is irrational?</p>
<p>The proof that <span class="math inline">\(\sqrt{2}\)</span> is irrational comes up in many places, often when explaining what a proof by contradiction is. Typically the proof goes like this: assume <span class="math inline">\(\sqrt{2}\)</span> is rational, so it can be written as <span class="math inline">\(a/b\)</span> which is a ratio of integers in lowest terms. You then demonstrated that both <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are even, which contradicts the assumption that <span class="math inline">\(a/b\)</span> was in lowest terms to begin with.</p>
<p>The problem with proofs by contradiction is that often the original assumptions are not clearly stated. Or really, there are <em>consequences</em> of the initial assumptions that get contradicted not the assumptions themselves.</p>
<p>While this works fine for <span class="math inline">\(\sqrt{2}\)</span> it doesn’t do much to help the student if they have to prove other numbers are irrational, such as <span class="math inline">\(\sqrt{3}\)</span> or <span class="math inline">\(e\)</span>. In this post we’ll dig a little deeper into the proof that <span class="math inline">\(\sqrt{2}\)</span> is irrational and use that to find principles and technqiues that will help with proofs that other numbers are irrational.</p>
<section id="proof-that-sqrt2-is-irrational" class="level3">
<h3 class="anchored" data-anchor-id="proof-that-sqrt2-is-irrational">Proof that <span class="math inline">\(\sqrt{2}\)</span> is irrational</h3>
<p>So in the <span class="math inline">\(\sqrt{2}\)</span> example, start of by assuming towards a contradiction that <span class="math inline">\(\sqrt{2}\)</span> is rational. Then you can write it as a fraction of two integers <span class="math inline">\(a/b\)</span>. In fact we can assume something stronger: that <span class="math inline">\(a/b\)</span> is in <em>lowest terms</em>. <span class="math display">\[\sqrt{2} = \frac{a}{b} \text{ in lowest terms}\]</span></p>
<p><span class="math display">\[\begin{align*}
\sqrt{2} &amp;= \frac{a}{b} &amp; \text{by assumption}\\
2 &amp;= \frac{a^2}{b^2} &amp; \text{square both sides}\\
2b^2 &amp;= a^2 &amp; \text{multiply by $b^2$}
\end{align*}\]</span></p>
<p>Since <span class="math inline">\(2b^2 = a^2\)</span>, this means <span class="math inline">\(a^2\)</span> is even, which requires that <span class="math inline">\(a\)</span> is even*. So <span class="math inline">\(a = 2c\)</span> for some integer <span class="math inline">\(c\)</span>. Then <span class="math inline">\(a^2 = 4c^2\)</span>. Plugging that back in shows:</p>
<p><span class="math display">\[2b^2 = 4c^2 \stackrel{\text{divide by 2}}{\implies} b^2 = 2c^2\]</span></p>
<p>This shows that <span class="math inline">\(b^2\)</span> is even, which requires that <span class="math inline">\(b\)</span> is even. So we have that both <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are even, but this <strong>contradicts</strong> the assumption that they were in lowest terms.</p>
<p>*Basic algebra is used in all the steps above except one: the fact that if a square is even, so is its root. Knowing that this is a step in the proof, we could go ahead and prove that fact. But if a student didn’t know this fact it would be difficult to discover that this was the next step to take. But let’s see if this helps us prove other numbers’ irrationality.</p>
</section>
<section id="does-this-technique-generalize" class="level3">
<h3 class="anchored" data-anchor-id="does-this-technique-generalize">Does this technique generalize?</h3>
<p>Let’s try to prove <span class="math inline">\(\sqrt{3}\)</span> is irrational. Repeat the previous techniques and see if it takes us to a valid proof:</p>
<p>Assume towards a contradiction that <span class="math inline">\(\sqrt{3}\)</span> is rational. Then there are integers <span class="math inline">\(a, b\)</span> such that <span class="math inline">\(\sqrt{3} = \frac{a}{b}\)</span> and <span class="math inline">\(a, b\)</span> are in lowest terms. Then</p>
<p><span class="math display">\[\begin{align*}
\sqrt{3} &amp;= \frac{a}{b} &amp;\text{by assumption}\\
3 &amp;= \frac{a^2}{b^2} &amp;\text{square both sides}\\
3b^2 &amp;= a^2 &amp;\text{multiply by $b^2$}
\end{align*}\]</span></p>
<p>Now you have <span class="math inline">\(3b^2 = a^2\)</span>, similar to the previous proof. This doesn’t imply that <span class="math inline">\(a^2\)</span> is even, and neither does it imply <span class="math inline">\(a^2\)</span> is odd. It only imples that <span class="math inline">\(a^2\)</span> has a factor of 3 (so does 36, which is even, and 9 which is not).</p>
<p>To complete this proof we could claim that if 3 divides <span class="math inline">\(a^2\)</span> then 3 must divide <span class="math inline">\(a\)</span>. So the previous proof technique doesn’t get us all the way to a complete proof here. If 3 does divide <span class="math inline">\(a\)</span> then we can continue as with the previous proof: <span class="math display">\[3 \mid a \implies 9 \mid a^2 \implies a^2 = 9c \implies b^2 = 3a^2\]</span></p>
<p>Now 3 divides <span class="math inline">\(b^2\)</span> and using our theorem, 3 divides <span class="math inline">\(b\)</span> as well. This gives us the contradiction that both <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> had a factor of 3 but also they had no common factors.</p>
<p>So if we can prove the theorem, the whole proof works. We seek to prove:</p>
<p><span class="math display">\[3 \mid a^2 \implies 3 \mid a\]</span></p>
<p>You might suspect that it’s easier to say something about <span class="math inline">\(a^2\)</span> if we know something about <span class="math inline">\(a\)</span> rather than the other way around, so form the contrapositive statement that allows us to start with <span class="math inline">\(a\)</span>: <span class="math display">\[3 \not\mid a \implies 3 \not\mid a^2\]</span></p>
<p>However there’s a more general principle that students working at this level ought to know: the (Fundamental Theorem of Arithmetic)[https://en.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic].</p>
<section id="the-fundmamental-theorem-of-arithmetic" class="level4">
<h4 class="anchored" data-anchor-id="the-fundmamental-theorem-of-arithmetic">The Fundmamental Theorem of Arithmetic</h4>
<p>It’s hard to immediately see why <span class="math inline">\(a^2\)</span> being even requires <span class="math inline">\(a\)</span> to be even. We can prove this as a little lemma for ourselves, but if we had to write a proof by contradiction rather than study the existing one above, it might not be clear to even do this.</p>
<p>The more fundamental principle here is the (Fundamental Theorem of Arithmetic)[https://en.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic]. This tells us that any natural number has a unique representation as a product of primes each raised to some power: <span class="math display">\[n = \prod_{j=1}^\infty p_j^{e_j}\]</span></p>
<p>where <span class="math inline">\(p_j\)</span> is the <span class="math inline">\(j\)</span>th prime number (2 is the first, 3 is the second, and so on) and <span class="math inline">\(e_j\)</span> is the exponent for that prime. For example, the <em>only</em> way to write 3 as a product of primes is <span class="math inline">\(2^0 \cdot 3^1 \cdot 5^0 \cdot \ldots\)</span>; for 6 the product is <span class="math inline">\(2^1 \cdot 3^1 \cdot 5^0 \cdot \ldots\)</span>.</p>
<p>Now back in the proof we had <span class="math inline">\(2b^2 = a^2\)</span>, so it behooves us to figure out something about <span class="math inline">\(a^2\)</span> or <span class="math inline">\(b^2\)</span>. Think about what happens to that prime product representation if you square it. Every (non-zero) exponent gets doubled: <span class="math display">\[(p_1^{e_1}\cdot p_2^{e_2} \cdot \ldots \cdot p_n^{e_n})^2 = p_1^{2e_1} \cdot p_2^{2e_2} \cdot \ldots \cdot p_n^{2e_n}\]</span></p>
<p><em>This</em> is why if <span class="math inline">\(a^2\)</span> is even then <span class="math inline">\(a\)</span> is even and <span class="math inline">\(a^2\)</span> has a factor of 4. Because if <span class="math inline">\(a^2\)</span> is even then it has 2 in its prime product, with an exponent of at least 2. To say <span class="math inline">\(a^2\)</span> is even means in its prime product the exponent on 2 must be at least 1, and because it’s a square we know its exponent is double its root’s exponent. This means <span class="math inline">\(a^2\)</span> has a factor of <span class="math inline">\(2^2 = 4\)</span></p>
</section>
</section>
<section id="repeating-this-proof-for-sqrt6" class="level3">
<h3 class="anchored" data-anchor-id="repeating-this-proof-for-sqrt6">Repeating this proof for <span class="math inline">\(\sqrt{6}\)</span></h3>
<p>Now, armed with FTOA, let’s prove <span class="math inline">\(\sqrt{6}\)</span> is irrational. Assume towards a contradiction that <span class="math inline">\(\sqrt{6}\)</span> is irrational. Then there are natural numbers <span class="math inline">\(a, b\)</span> such that <span class="math inline">\(\sqrt{6} = a/b\)</span> with <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> having no common factors. As in the previous proofs, square both sides and move <span class="math inline">\(b^2\)</span> to get <span class="math inline">\(6b^2 = a^2\)</span>. From this we have <span class="math inline">\(2\cdot3\cdot b^2 = a^2\)</span>. Now using what we know from the FTOA we know that <span class="math inline">\(a^2\)</span> must have factors of 2 and 3, and since it’s a square it must have factors of 4 and 9. So <span class="math inline">\(6b^2 = 36c\)</span> for some integer <span class="math inline">\(c\)</span>, or more simply <span class="math inline">\(b^2 = 6c\)</span>, showing <span class="math inline">\(b^2\)</span> also has a factor of 6. This means both <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> have factors of 6 and they both have no common factors, a contradiction.</p>
</section>
<section id="proving-that-e-is-irrational" class="level3">
<h3 class="anchored" data-anchor-id="proving-that-e-is-irrational">Proving that <span class="math inline">\(e\)</span> is irrational</h3>
<p>To prove <span class="math inline">\(e\)</span> is irrational requires a bit more work but has a similar setup. First, let’s define <span class="math inline">\(e\)</span> by its series expansion and assume towards a contradiction that it’s rational, equal to <span class="math inline">\(a/b\)</span> in lowest terms:</p>
<p><span class="math display">\[e = \sum_{n=0}^\infty \frac{1}{n!} = \frac{a}{b}\]</span></p>
<p>If we clear the denominator on the right by multiplying across by <span class="math inline">\(b\)</span> we get:</p>
<p><span class="math display">\[eb = \sum_{n=0}^\infty \frac{b}{n!} = a\]</span></p>
<p>Now what’s interesting about this is that <span class="math inline">\(eb\)</span> must be an integer, since it’s equal to <span class="math inline">\(a\)</span>, and so must the series even though its terms have an <span class="math inline">\(n!\)</span> in the denominator. To achieve some more cancelation multiply by <span class="math inline">\(b!\)</span> instead of <span class="math inline">\(b\)</span>, which still us with an integer:</p>
<p><span class="math display">\[eb! = \sum{n=0}^\infty \frac{b!}{n!} = a(b-1)! \in \mathbb{Z}\]</span></p>
<p>We don’t know the value <span class="math inline">\(b\)</span>, but we know it’s an integer at least 1. So some of the series terms will have <span class="math inline">\(n \leq b\)</span> and after that, we’ll have all <span class="math inline">\(n &gt; b\)</span>. So split the series into those two cases:</p>
<p><span class="math display">\[\sum_{n=0}^b \frac{b!}{n!} + \sum_{k=1}^\infty \frac{b!}{(b+k)!}\]</span></p>
<p>When <span class="math inline">\(n \leq b\)</span> the fraction <span class="math inline">\(\frac{b!}{(b+k)!}\)</span> is an integer. So the sum on the left is a sum of integers and must also be an integer. That means the sum on the right has to be an integer; if not then it would contradict the result that <span class="math inline">\(eb!\)</span> is an integer.</p>
<p>For the series on the right we have some constant numerator <span class="math inline">\(b!\)</span> and an ever-increasing denominator <span class="math inline">\((b+k)!\)</span> which means all these terms are greater than 0 but less than 1. Of course, some series do evaluate to integers so we have to prove this one doesn’t in order to contradict that <span class="math inline">\(eb! \in \mathbb{Z}\)</span>.</p>
<p>You might notice that the denominator has factorial growth, which is extremely fast. And since this happens in the denominator it means the terms will get very small, very quickly. You might suspect that it converges to something less than 1, which means it isn’t an integer, and that would be our contradiction.</p>
<p>First, notice that since the denominator is a higher factorial than the numerator we can cancel out terms: <span class="math display">\[\frac{b!}{(b+k)!} = \frac{1}{(b+1)\ldots(b+k)}\]</span></p>
<p>If we change the denominator so all the factors are <span class="math inline">\((b+1)\)</span> then the denominator becomes smaller, which makes the value bigger. This gives us the relation:</p>
<p><span class="math display">\[\frac{1}{(b+1)\ldots (b+k)} \leq \frac{1}{(b+1)^k}\]</span></p>
<p>With equality only when <span class="math inline">\(k = 1\)</span>. In our series <span class="math inline">\(k\)</span> just starts at 1 then goes on to infinity, so we have a strict inequality between the sums:</p>
<p><span class="math display">\[\sum_{k=1}^\infty \frac{b!}{(b+k)!} \leq \sum_{k=1}^\infty \frac{1}{(b+1)^k}\]</span></p>
<p>Notice the sum on the right is nearly a geometric series, only missing the <span class="math inline">\(k = 0\)</span> term. That term would simply evaluate to 1, so express the sum in terms of a geometric series:</p>
<p><span class="math display">\[\sum_{k=1}^\infty \frac{1}{(b+1)^k} = \sum_{k=0}^\infty \frac{1}{(b+1)^k} - 1 = \frac{1}{1 - \frac{1}{b+1}} - 1\]</span></p>
<p>Do some algebra to simplify the result:</p>
<p><span class="math display">\[\frac{1}{1 - \frac{1}{b+1}}\cdot\frac{b+1}{b+1} - 1\cdot\frac{b}{b} = \frac{b+1}{b} - \frac{b}{b} = \frac{1}{b}\]</span> <span class="math display">\[\implies 0 &lt;  \sum_{k=0}^\infty \frac{b!}{(b+k)!} &lt; \frac{1}{b}\]</span></p>
<p>And here is our contradiction: the head sum plus the tail sum must be an integer and the head sum is an integer, but the tail sum is strictly between 0 and 1. This is a contradiction, because if the tail sum is less than 1 then adding it to the head sum will not make it an integer.</p>
</section>
<section id="proving-that-pi-is-irrational" class="level3">
<h3 class="anchored" data-anchor-id="proving-that-pi-is-irrational">Proving that <span class="math inline">\(\pi\)</span> is irrational</h3>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/benjaminb\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>